<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roulette & Scoresheet</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        .tab { display: none; }
        .active { display: block; }
        table { margin: 10px auto; border-collapse: collapse; }
        th, td { border: 1px solid black; padding: 5px; }
        .tab-buttons { margin-bottom: 20px; }
    </style>
</head>
<body>
    <div class="tab-buttons">
        <button onclick="showTab('roulette')">Roulette</button>
        <button onclick="showTab('scoresheet')">Scoresheet</button>
    </div>
    
    <!-- Roulette Tab -->
    <div id="roulette" class="tab active">
        <h2>Roulette</h2>
        <button onclick="generateRoulette()">Spin</button>
        <p id="rouletteResult"></p>
    </div>
    
    <!-- Scoresheet Tab -->
    <div id="scoresheet" class="tab">
        <h2>Scoresheet</h2>
        <div id="scoresheetTables"></div>
    </div>
    
    <script>
        const items = [
            "Lammeculotte", "Hel bagt blomkål", "Sønderjyde pølse", "Okseroast", "Duroc cubes smoked", "Pulled pork over night",
            "Halve grillede tomater", "Flammen pebersovs", "Okseblomme", "Kalkun", "Oksespidsbryst", "Chicago pork af dansk gris med krydret rub",
            "Rødvinsbraiseret vildsvin", "Go'e ben", "Flammens ølbraisering", "Argentinske pølser", "Andebryst med honning og timian", "Kænguru",
            "Kalvecuvette", "Hot 'n' Roasted okse"
        ];

        function showTab(tabId) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
        }
        
        function generateRoulette() {
            let chosenItem = items[Math.floor(Math.random() * items.length)];
            const time = new Date().toLocaleTimeString();
            document.getElementById('rouletteResult').innerHTML = `Result: <b>${chosenItem}</b><br>Successful! at time: ${time}`;
        }

        function generateScoresheet() {
            let container = document.getElementById('scoresheetTables');
            container.innerHTML = ''; // Clear previous tables

            items.forEach(item => {
                let table = document.createElement('table');
                let headerRow = `<tr><th colspan='5'>${item}</th></tr>
                                 <tr><th></th><th>Name</th><th>Taste (1-10)</th><th>Looks (1-10)</th><th>Dry/Juicy (1-10)</th><th>Average</th></tr>`;
                table.innerHTML = headerRow;
                
                for (let i = 1; i <= 4; i++) {
                    let row = document.createElement('tr');
                    row.innerHTML = `<td>Person ${i}</td>
                                     <td><input type='text'></td>
                                     <td><input type='number' min='1' max='10' class='score'></td>
                                     <td><input type='number' min='1' max='10' class='score'></td>
                                     <td><input type='number' min='1' max='10' class='score'></td>
                                     <td class='average'>0</td>`;
                    table.appendChild(row);
                }
                
                container.appendChild(table);
            });
            attachEventListeners();
        }

        function attachEventListeners() {
            document.querySelectorAll('.score').forEach(input => {
                input.addEventListener('input', calculateAverages);
            });
        }

        function calculateAverages() {
            document.querySelectorAll('tr').forEach(row => {
                let scores = row.querySelectorAll('.score');
                if (scores.length > 0) {
                    let sum = 0, count = 0;
                    scores.forEach(input => {
                        let val = parseFloat(input.value);
                        if (!isNaN(val)) {
                            sum += val;
                            count++;
                        }
                    });
                    let avgCell = row.querySelector('.average');
                    avgCell.textContent = count > 0 ? (sum / count).toFixed(1) : '0';
                }
            });
        }
        
        generateScoresheet(); // Ensure scoresheet is always available
    </script>
</body>
</html>
