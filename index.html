<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roulette & Scoresheet</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        .tab { display: none; }
        .active { display: block; }
        table { margin: 10px auto; border-collapse: collapse; }
        th, td { border: 1px solid black; padding: 5px; }
        .tab-buttons { margin-bottom: 20px; }
    </style>
</head>
<body>
    <div class="tab-buttons">
        <button onclick="showTab('roulette')">Roulette</button>
        <button onclick="showTab('scoresheet')">Scoresheet</button>
    </div>
    
    <!-- Roulette Tab -->
    <div id="roulette" class="tab active">
        <h2>Roulette - Meat</h2>
        <button onclick="generateRoulette(meatItems, 'rouletteResult1')">Spin</button>
        <p id="rouletteResult1"></p>
        
        <h2>Roulette - Warm dishes</h2>
        <button onclick="generateRoulette(warmDishes, 'rouletteResult2')">Spin</button>
        <p id="rouletteResult2"></p>
        
        <h2>Roulette - Salad</h2>
        <button onclick="generateRoulette(salatItems, 'rouletteResult3')">Spin</button>
        <p id="rouletteResult3"></p>
        
        <h2>Roulette - Starters</h2>
        <button onclick="generateRoulette(starters, 'rouletteResult4')">Spin</button>
        <p id="rouletteResult4"></p>

        <h2>Roulette - Sauce</h2>
        <button onclick="generateRoulette(sauce, 'rouletteResult5')">Spin</button>
        <p id="rouletteResult5"></p>
    </div>
    
    <!-- Scoresheet Tab -->
    <div id="scoresheet" class="tab">
        <h2>Scoresheet</h2>
        <div id="scoresheetTables"></div>
    </div>
    
    <script>
        const meatItems = [
            "Lammeculotte", "Hel bagt blomkål", "Sønderjyde pølse", "Okseroast", "Duroc cubes smoked", "Pulled pork over night",
            "Halve grillede tomater", "Okseblomme", "Kalkun", "Oksespidsbryst", "Chicago pork af dansk gris med krydret rub",
            "Rødvinsbraiseret vildsvin", "Go'e ben", "Flammens ølbraisering", "Argentinske pølser", "Andebryst med honning og timian", "Kænguru",
            "Kalvecuvette", "Hot 'n' Roasted okse"
        ];
        
        const warmDishes = [
            "Mac’n cheese", "Gratineret grøntsagslasagne", "Majskolber", "Grillet sommerkål", "Søde kartoffelfritter", "Velfærds kyllingeoverlår",
            "Stegte svampe", "Små ovnbagte kartofler", "Flammens flødekartofler", "Pommes Frites", "Kyllingenuggets"
        ];
        
        const salatItems = [
            "Æbler i skiver", "Frisk Mozarella", "Salat Mayonaise", "Blåbær", "Soltørrede tomater", "Græskarkerner", "Babyspinat",
            "Marinerede champignon", "Appelsin", "Avocado i tern", "Hj. Tapenade", "Gul semidried tomat", "Valnødder", "Melon", "Ceasardressing",
            "Salatmix", "Grana flager (parmesanflager)", "Plukket Kylling", "Sommersalat", "Grøn Tomatsalat", "Salat ala caesar", "Hjemmerørt chili mayo",
            "Ristede og saltede majs", "Remoulade og ketchup", "Spidskål", "Rugbrødschips", "Grøn Pesto", "Grissini", "Tranebær", "Rosiner", "Hot chili peanuts",
            "Peanuts", "Tzatziki", "Krydderurtedressing", "Creme fraiche dressing", "Thousand Island dressing", "Kalamata oliven", "Peppadew",
            "Syltede grønne tomater", "Hvidløg i krydderolie", "Syltede rødløg", "Agurker", "Majs", "Ærter", "Ananas", "Peberfrugtmix", "Mix tomater",
            "Gulerod i strimler", "Pasta", "Rodfrugtchips", "Rødløg", "Crispmix", "Coleslaw", "Franske kartofler", "Balsamico eddike", "Salatost"
        ];
        
        const starters = [
            "Sprød samosa", "Karrysuppe", "Kyllingespyd", "Frikadeller", "Flammens hjemmelavede kartoffelsalat", "Sesambagt laks"
        ];
        
        const sauce = [
            "Vildtsovs", "Whiskysovs", "Bearnaisesovs", "Flammen pebersovs (Oppe i kød sektionen)"
        ];


        function showTab(tabId) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
        }
        
        function generateRoulette(list, resultId) {
            let chosenItem = list[Math.floor(Math.random() * list.length)];
            const time = new Date().toLocaleTimeString();
            document.getElementById(resultId).innerHTML = `Result: <b>${chosenItem}</b><br>Successful! at time: ${time}`;
        }

        function generateScoresheet() {
            let container = document.getElementById('scoresheetTables');
            container.innerHTML = '';
            
            meatItems.forEach(item => {
                let table = document.createElement('table');
                let headerRow = `<tr><th colspan='6'>${item}</th></tr>
                                 <tr><th></th><th>Name</th><th>Taste (1-10)</th><th>Looks (1-10)</th><th>Dry/Juicy (1-10)</th><th>Average</th></tr>`;
                table.innerHTML = headerRow;
                
                for (let i = 1; i <= 4; i++) {
                    let row = document.createElement('tr');
                    row.innerHTML = `<td>Person ${i}</td>
                                     <td><input type='text' oninput='saveData()'></td>
                                     <td><input type='number' min='1' max='10' class='score' oninput='saveData()'></td>
                                     <td><input type='number' min='1' max='10' class='score' oninput='saveData()'></td>
                                     <td><input type='number' min='1' max='10' class='score' oninput='saveData()'></td>
                                     <td class='average'>0</td>`;
                    table.appendChild(row);
                }
                
                container.appendChild(table);
            });
            attachEventListeners();
            loadData();
        }

        function attachEventListeners() {
            document.querySelectorAll('.score').forEach(input => {
                input.addEventListener('input', calculateAverages);
            });
        }

        function calculateAverages() {
            document.querySelectorAll('tr').forEach(row => {
                let scores = row.querySelectorAll('.score');
                if (scores.length > 0) {
                    let sum = 0, count = 0;
                    scores.forEach(input => {
                        let val = parseFloat(input.value);
                        if (!isNaN(val)) {
                            sum += val;
                            count++;
                        }
                    });
                    let avgCell = row.querySelector('.average');
                    avgCell.textContent = count > 0 ? (sum / count).toFixed(1) : '0';
                }
            });
        }

        function saveData() {
            let data = [];
            document.querySelectorAll('#scoresheetTables table').forEach((table, index) => {
                let itemData = [];
                table.querySelectorAll('tr').forEach(row => {
                    let rowData = [];
                    row.querySelectorAll('input').forEach(input => {
                        rowData.push(input.value);
                    });
                    itemData.push(rowData);
                });
                data.push(itemData);
            });
            localStorage.setItem('scoresheetData', JSON.stringify(data));
        }

        function loadData() {
            let data = JSON.parse(localStorage.getItem('scoresheetData'));
            if (data) {
                document.querySelectorAll('#scoresheetTables table').forEach((table, index) => {
                    table.querySelectorAll('tr').forEach((row, rowIndex) => {
                        row.querySelectorAll('input').forEach((input, inputIndex) => {
                            if (data[index] && data[index][rowIndex] && data[index][rowIndex][inputIndex] !== undefined) {
                                input.value = data[index][rowIndex][inputIndex];
                            }
                        });
                    });
                });
                calculateAverages();
            }
        }
        
        generateScoresheet(); 
    </script>
</body>
</html>
